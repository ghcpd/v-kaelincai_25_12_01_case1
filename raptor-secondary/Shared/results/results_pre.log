
> browser-compat-bug-demo@0.1.0 test
> node --test

✖ falls back to srcElement in legacy browsers (1.9295ms)
✖ reads dataset from srcElement when target missing (0.2634ms)
ℹ tests 2
ℹ suites 0
ℹ pass 0
ℹ fail 2
ℹ cancelled 0
ℹ skipped 0
ℹ todo 0
ℹ duration_ms 98.6193

✖ failing tests:

test at tests\compatActionLabel.test.js:17:1
✖ falls back to srcElement in legacy browsers (1.9295ms)
  AssertionError [ERR_ASSERTION]: IE11-style events expose attributes only via srcElement
  + actual - expected
  
  + ''
  - 'legacy-submit'
  
      at TestContext.<anonymous> (C:\workspace\issue_project\tests\compatActionLabel.test.js:20:10)
      at Test.runInAsyncScope (node:async_hooks:214:14)
      at Test.run (node:internal/test_runner/test:1106:25)
      at Test.start (node:internal/test_runner/test:1003:17)
      at startSubtestAfterBootstrap (node:internal/test_runner/harness:358:17) {
    generatedMessage: false,
    code: 'ERR_ASSERTION',
    actual: '',
    expected: 'legacy-submit',
    operator: 'strictEqual',
    diff: 'simple'
  }

test at tests\compatActionLabel.test.js:27:1
✖ reads dataset from srcElement when target missing (0.2634ms)
  AssertionError [ERR_ASSERTION]: dataset fallback should read from srcElement for compatibility
  + actual - expected
  
  + ''
  - 'legacy-dataset-only'
  
      at TestContext.<anonymous> (C:\workspace\issue_project\tests\compatActionLabel.test.js:35:10)
      at Test.runInAsyncScope (node:async_hooks:214:14)
      at Test.run (node:internal/test_runner/test:1106:25)
      at Test.processPendingSubtests (node:internal/test_runner/test:788:18)
      at Test.postRun (node:internal/test_runner/test:1235:19)
      at Test.run (node:internal/test_runner/test:1163:12)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    generatedMessage: false,
    code: 'ERR_ASSERTION',
    actual: '',
    expected: 'legacy-dataset-only',
    operator: 'strictEqual',
    diff: 'simple'
  }
